<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">

<head>

    <meta charset="UTF-8">

    <title>Menu Sidebar Thu G·ªçn/M·ªü R·ªông</title>

    <meta name="viewport" content="width=device-width, initial-scale=1">

    <style>

        :root {

            --sidebar-width: 270px;

            --sidebar-collapsed: 64px;

            --transition: 0.23s cubic-bezier(.7,.2,.4,1.2);

        }

        body {

            margin: 0;

            font-family: 'Segoe UI', Arial, sans-serif;

            background: #f8f9fa;

        }

        .sidebar {

            width: var(--sidebar-width);

            background: #fff;

            min-height: 100vh;

            box-shadow: 2px 0 8px #eee;

            position: fixed;

            top: 0; left: 0;

            padding-bottom: 40px;

            overflow-y: auto;

            z-index: 10;

            transition: width var(--transition);

        }

        .sidebar.collapsed {

            width: var(--sidebar-collapsed);

            overflow-x: hidden;

        }

        .sidebar h2 {

            padding: 24px 24px 16px 24px;

            margin: 0;

            color: #323232;

            font-size: 1.25rem;

            font-weight: 700;

            letter-spacing: 1px;

            transition: opacity var(--transition);

        }

        .sidebar.collapsed h2 {

            opacity: 0;

            height: 0;

            padding: 0;

            overflow: hidden;

        }

        .toggle-btn {

            position: absolute;

            top: 13px;

            right: 18px;

            width: 36px;

            height: 36px;

            background: #007bff;

            color: #fff;

            border-radius: 50%;

            border: none;

            font-size: 1.2rem;

            cursor: pointer;

            transition: right var(--transition) background 0.2s;

            box-shadow: 0 2px 8px #c2d5f5a8;

            display: flex;

            align-items: center;

            justify-content: center;

            z-index: 20;

        }

        .sidebar.collapsed .toggle-btn {

            right: 18px;

            background: #495057;

        }

        .menu-group {

            border-bottom: 1px solid #f1f1f1;

        }

        .menu-title {

            padding: 13px 24px;

            cursor: pointer;

            display: flex;

            align-items: center;

            color: #333;

            font-weight: 500;

            user-select: none;

            font-size: 1.07rem;

            justify-content: space-between;

            transition: background 0.1s, color 0.1s;

        }

        .menu-title .icon {

            width: 28px;

            text-align: center;

            margin-right: 10px;

            font-size: 1.21rem;

            transition: margin var(--transition);

        }

        .menu-title:hover {

            background: #f0f4fa;

            color: #007bff;

        }

        .arrow {

            transition: transform 0.2s;

            font-size: 1rem;

            margin-left: 6px;

            color: #999;

        }

        .arrow.open {

            transform: rotate(90deg);

        }

        .submenu {

            display: none;

            padding-left: 34px;

            background: #fafafd;

            animation: fadein 0.3s;

        }

        .submenu.open {

            display: block;

        }

        .submenu li {

            padding: 10px 16px 10px 0;

            font-size: 1rem;

            color: #444;

            cursor: pointer;

            border-left: 3px solid transparent;

            transition: background 0.1s, border-color 0.2s;

            margin-bottom: 2px;

            list-style: none;

            margin-left: 0;

            margin-right: 0;

            white-space: nowrap;

            overflow: hidden;

            text-overflow: ellipsis;

        }

        .submenu li:hover {

            background: #e5eefe;

            border-left: 3px solid #007bff;

            color: #007bff;

        }

        /* Thu g·ªçn sidebar */

        .sidebar.collapsed .menu-title span:not(.icon),

        .sidebar.collapsed .arrow,

        .sidebar.collapsed .submenu {

            display: none !important;

        }

        .sidebar.collapsed .menu-title {

            justify-content: center;

            padding-left: 0;

            padding-right: 0;

        }

        .sidebar.collapsed .menu-title .icon {

            margin-right: 0;

        }

        /* Responsive */

        @media (max-width:600px) {

            .sidebar { width: 100vw; min-height: unset; position: fixed; z-index: 99; }

            .sidebar.collapsed { width: 62px; }

            .toggle-btn { top: 12px; right: -18px;}

        }

        @keyframes fadein {

            from { opacity: 0;}

            to { opacity: 1;}

        }

        /* Add a subtle hover effect for the whole sidebar when collapsed */

        .sidebar.collapsed .menu-title:hover {

            background: #f0f4fa;

        }

        a.nav-link {

            text-decoration: none;

            color: inherit;

        }

        css

        Copier
        a.nav-link:hover {
            text-decoration: underline;
            color: #007bff;
        }
        .user-info {
            position: fixed;
            top: 12px;
            right: 24px;
            font-size: 14px;
            background-color: #ffffffdd;
            padding: 10px 14px;
            border-radius: 8px;
            box-shadow: 0 2px 6px rgba(0,0,0,0.1);
            z-index: 99;
            color: #333;
            max-width: 240px;
            line-height: 1.5;
        }

        @media (max-width: 600px) {
            .user-info {
                position: static;
                margin: 12px auto;
                text-align: center;
                background: none;
                box-shadow: none;
                padding: 6px;
            }
        }
    </style>
</head>

<body>

<nav class="sidebar" id="sidebar">

    <button class="toggle-btn" id="toggleBtn" title="Thu g·ªçn/M·ªü r·ªông menu">&#9776;</button>

    <h2>üõçÔ∏è Sh-Shop </h2>

    <div class="user-info">

        üëã Xin ch√†o: <strong th:text="${nguoiDung.hoTen}">T√™n ng∆∞·ªùi d√πng</strong><br>

        üéì Vai tr√≤:

        <span th:each="v : ${vaiTros}" th:text="${v.tenVaiTro} + ' '" />

    </div>

    <div class="menu-group">

        <div class="menu-title" onclick="toggleMenu(this)">

            <span class="icon">üë§</span><span>Ng∆∞·ªùi d√πng & B·∫£o m·∫≠t</span>

            <span class="arrow">&#9654;</span>

        </div>

        <ul class="submenu">

            <li><a class="nav-link" href="/nguoi-dung">üë• Qu·∫£n l√Ω ng∆∞·ªùi d√πng</a></li>

            <li><a class="nav-link" href="/vai-tro-nguoi-dung">üîë Qu·∫£n l√Ω vai tr√≤</a></li>

            <li>üìú L·ªãch s·ª≠ ƒëƒÉng nh·∫≠p</li>

            <li>üîê X√°c th·ª±c/qu√™n m·∫≠t kh·∫©u</li>

        </ul>

    </div>

    <div class="menu-group">

        <div class="menu-title" onclick="toggleMenu(this)">

            <span class="icon">üì¶</span><span>S·∫£n ph·∫©m & Ph√¢n lo·∫°i</span>

            <span class="arrow">&#9654;</span>

        </div>

        <ul class="submenu">

            <li>üóÇÔ∏è Lo·∫°i s·∫£n ph·∫©m</li>

            <li><a class="nav-link" href="/sanpham">üõí S·∫£n ph·∫©m</a></li>

            <li>üé® M√†u s·∫Øc</li>

            <li>üìè K√≠ch c·ª°</li>

            <li><a class="nav-link" href="/san-pham-chi-tiet">üßæ S·∫£n ph·∫©m chi ti·∫øt</a></li>

        </ul>

    </div>

    <div class="menu-group">

        <div class="menu-title" onclick="toggleMenu(this)">

            <span class="icon">üßß</span><span>M√£ gi·∫£m gi√°</span>

            <span class="arrow">&#9654;</span>

        </div>

        <ul class="submenu">

            <li>üéüÔ∏è M√£ gi·∫£m gi√°</li>

        </ul>

    </div>

    <div class="menu-group">

        <div class="menu-title" onclick="toggleMenu(this)">

            <span class="icon">üõí</span><span>Gi·ªè h√†ng & Y√™u th√≠ch</span>

            <span class="arrow">&#9654;</span>

        </div>

        <ul class="submenu">

            <li>üõçÔ∏è Gi·ªè h√†ng</li>

            angelscript

            Copier
        </ul>
    </div>
    <div class="menu-group">
        <div class="menu-title" onclick="toggleMenu(this)">
            <span class="icon">üßæ</span><span>ƒê∆°n h√†ng & Thanh to√°n</span>
            <span class="arrow">&#9654;</span>
        </div>
        <ul class="submenu">
            <li><a class="nav-link" href="/gio-hang/chon-nguoi-dung">üì¶ ƒê∆°n h√†ng</a></li>
            <li>üè∑Ô∏è Chi ti·∫øt ƒë∆°n h√†ng</li>
            <li><a class="nav-link" href="/lich-su-thanh-toan">üí∏ L·ªãch s·ª≠ thanh to√°n</a></li>
        </ul>
    </div>

    <div class="menu-group">
        <div class="menu-title" onclick="toggleMenu(this)">
            <span class="icon">üè¨</span><span>Kho & Phi·∫øu nh·∫≠p</span>
            <span class="arrow">&#9654;</span>
        </div>
        <ul class="submenu">
            <li>üè¢ Kho</li>
            <li>üßæ Phi·∫øu nh·∫≠p h√†ng</li>
            <li>üìã Chi ti·∫øt phi·∫øu nh·∫≠p</li>
        </ul>
    </div>

    <div class="menu-group">
        <div class="menu-title" onclick="toggleMenu(this)">
            <span class="icon">üí∞</span><span>Doanh Thu</span>
            <span class="arrow">&#9654;</span>
        </div>
        <ul class="submenu">
            <li><a class="nav-link" href="/admin/thong-ke">üìä Th·ªëng k√™</a></li>
        </ul>
    </div>
</nav>

<script>

    // ·∫®n/Hi·ªán submenu

    function toggleMenu(titleElem) {

// N·∫øu sidebar ƒëang thu g·ªçn th√¨ kh√¥ng cho b·∫≠t submenu

        if(document.getElementById('sidebar').classList.contains('collapsed')) return;

        document.querySelectorAll('.menu-title').forEach(function(menu) {

            if (menu !== titleElem) {

                menu.nextElementSibling.classList.remove('open');

                menu.querySelector('.arrow').classList.remove('open');

            }

        });

        var submenu = titleElem.nextElementSibling;

        submenu.classList.toggle('open');

        titleElem.querySelector('.arrow').classList.toggle('open');

    }

    // Thu g·ªçn/M·ªü r·ªông sidebar

    document.getElementById('toggleBtn').onclick = function() {

        var sidebar = document.getElementById('sidebar');

        sidebar.classList.toggle('collapsed');

// ƒê√≥ng t·∫•t c·∫£ submenu khi thu g·ªçn

        if(sidebar.classList.contains('collapsed')) {

            document.querySelectorAll('.submenu').forEach(function(sm){

                sm.classList.remove('open');

            });

            document.querySelectorAll('.arrow').forEach(function(arrow){

                arrow.classList.remove('open');

            });

        }

    }

    // ƒê√≥ng sidebar khi b·∫•m ra ngo√†i (tr√™n mobile)

    document.addEventListener('click', function(e){

        var sidebar = document.getElementById('sidebar');

        if(window.innerWidth <= 600 && !sidebar.contains(e.target) && !e.target.classList.contains('toggle-btn')){

            sidebar.classList.add('collapsed');

        }

    });

</script>

</body>

</html>